<html>
  <head>
    <title>
   *** Local rings ***
    </title>
  </head>
<body>
<div>
    <h4></h4>
<p>
    Computations in local rings can be handled via standard bases with
    respect to local monomial orders.
</p>
<p>
    * Local monomial orders and standard bases
</p>
<p>
    * Bases of standard monomials and multiplicity
</p>
<p>
    * Applications: Milnor number
</p>
</div>
<div>
    <h4>Local monomial orders</h4>
<p>
    For the ideal
</p>
<code>R = QQ[x,y];</code><br/>
<code>I = ideal(y^4*x+3*x^3-y^4-3*x^2, <br/>
     x^2*y-2*x^2,<br/>
     2*y^4*x-x^3-2*y^4+x^2); </code><br/>
<p>
    we can see that <i><b>V</b>(I) = {(0,0), (1,2) }</i> : the radical of <i>I</i> decomposes in 
</p>
<code>decompose I</code><br/>
<p>
    Suppose we would like to do local computations at the origin. 
    To that define a ring 
</p>
<code>R0 =QQ[x,y,Weights=>{-1,-1},Global=>false]</code><br/>
<p>
    Note that <tt>R0</tt> is not a local ring per se, 
    but the specified monomial order is a refinement of the
    weight order with negative weights and is, therefore, local.
</p>
<code>getGB = flatten@@entries@@gens@@gb</code><br/>
<code>J = sub(I,R0)</code><br/>
<code>G = getGB sub(J,R0)</code><br/>
<p>
    The set <i>G</i> above is a standard basis in the local ring <i>R<sub>M</sub></i> for <i>M=&lt;x,y></i>. 
    Note that it can be simplified: <i>2x<sup>2</sup>-x<sup>2</sup>y = (2-y)x<sup>2</sup></i>, but <i>(2-y)</i> is a unit in <i>R<sub>M</sub></i>.
    Therefore, <i>{x<sup>2</sup>,y<sup>4</sup>-(4/3)xy<sup>4</sup>}</i> 
    is a standard basis as well and, by a similar argument, 
</p>
<code>G0 = {x^2, y^4}</code><br/>
<p>
    is one as well.
</p>
</div>
<div>
    <h4>Bases of standard monomials and multiplicity</h4>
<p>
    The basis of standard monomials (do not confuse with standard
    basis) for the quotient ring in our running example can be obtained
    by taking a quotient with respect to ideal generated by any version of a standard basis above:
</p>
<code>basis(R0/G) </code><br/>
<code>basis(R0/G0) </code><br/>
<p>
    The multiplicity of the origin equals the vector space dimension of
    the quotient local ring or, in another terminology, its degree.
</p>
<code>degree(R0/G)</code><br/>
<p>
    The multiplicity of the other point in <i><b>V</b>(I)</i> can be computed by shifting <i>(1,2)</i> to the origin.
</p>
<code>J' = sub(sub(J,{x=>x+1,y=>y+2}),R0)</code><br/>
<code>getGB J'</code><br/>
<p>
    From the leading monomials of the standard basis elements above, we
    see that the other point is regular (multiplicity=1).
</p>
<code>degree J' </code><br/>
<p>
    As we know the sum of multiplicities equals the multiplicity (vector-space dimension) of <i>R/I</i>.
</p>
<code>degree J' + degree J == degree I</code><br/>
</div>
<div>
    <h4>Applications: Milnor number</h4>
<p>
    Take a polynomial function
</p>
<code>use R0</code><br/>
<code>h = poly "x5+y2+2y3+y4"</code><br/>
<p>
    The partial derivatives of <i>h</i> 
</p>
<code>J = jacobian matrix{{h}}</code><br/>
<p>
    vanish at the origin. That means that <i>h</i> has a singularity at
    <i>(0,0)</i>, moreover, this singularity is isolated: the localization
    ideal generated by the derivatives is 0-dimensional.
</p>
<code>I = ideal J</code><br/>
<code>dim I</code><br/>
<p>
    A singularity theory invariant, the <em>Milnor number</em>, is defined
    as the multiplicity of the singular point and, therefore, can be
    computed using standard bases technique.
</p>
<code>degree I</code><br/>
<p>
    Note that there are other singularities: <i>(0,-1)</i> and <i>(0,-1/2))</i>. Their Milnor numbers are the same:
</p>
<code>degree sub(I,{x=>x,y=>y-1}) </code><br/>
<code>degree sub(I,{x=>x,y=>y-1/2}) </code><br/>
<p>
    The geometric meaning of this invariant may be demonstrated by perturbing the function:
</p>
<code>QQ[x,y,a,b]</code><br/>
<code>h' = poly "x5+y2+2y3+y4+ax+by"</code><br/>
<code>I = ideal {diff(x,h'),diff(y,h')}</code><br/>
<p>
    We can see that there are, for example, 4 isolated regular points of <i><b>V</b>(I)</i> close to <i>(0,0)</i> if <i>a</i> and <i>b</i> are small.
</p>
    </div>
  </body>
</html>
